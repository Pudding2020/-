# echo回显服务器

一、定义EchoServer class，不需要派生自任何基类

```c

#include<muduo/net/TcpServer.h>

class EchoServer
{
    public:
      EchoServer(muduo::net::EventLoop* loop,const muduo::net::InetAddress& listenAddr);//构造函数
      void start();//calls server_.start();
      
    private:
      void onConnection(const muduo::net::TcpConnectionPtr& conn);//建立连接
      void onMessage(const muduo::net::TcpConnectionPtr& conn,muduo::net::Buffer* buf,muduo::Timeatsmp time);//读消息并回显
      
    muduo::net::EventLoop* loop_;
    muduo::net::TcpServer server_;
};

```

在构造函数里注册回调函数

```c
EchoServer::EchoServer()
```
